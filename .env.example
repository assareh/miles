# Miles Configuration

# Backend Selection (lmstudio or ollama)
MILES_BACKEND=lmstudio

# Backend Model
BACKEND_MODEL=openai/gpt-oss-20b

# Backend Endpoints
LMSTUDIO_ENDPOINT=http://localhost:1234/v1
OLLAMA_ENDPOINT=http://localhost:11434

# Ollama API Key (optional - for web search functionality)
# Get your key from: https://ollama.com
# If not set, web search falls back to DuckDuckGo
OLLAMA_API_KEY=

# Miles Settings
MILES_PORT=8000
MILES_TEMPERATURE=0.0
SYSTEM_PROMPT_PATH=data/system_instruction.md

# Fuzzy matching threshold for card name lookups (0-100)
# Default of 85 balances flexibility with accuracy
# Lower = more lenient matching, Higher = stricter matching
FUZZY_MATCH_THRESHOLD=85

# Data Configuration
DATA_DIR=data
USER_DATA_FILE=data/user.json

# Data API URL
# Default: https://api.askmiles.ai
# Set to empty string to disable automatic updates (offline mode)
# You can self-host the data API - see docs/DATA_API.md
DATA_API_URL=https://api.askmiles.ai

# Debug Settings (optional)
DEBUG_TOOLS=false
DEBUG_TOOLS_LOG_FILE=miles_tools_debug.log
DEBUG_LLM_REQUESTS=false
DEBUG_LLM_REQUESTS_FILE=llm_requests.json

# Open Web UI Settings
# Set the application name (will show in nav bar and page title)
WEBUI_NAME=Miles

# WebUI port (if using with WebUI)
WEBUI_PORT=8001

# Disable authentication (true/false)
WEBUI_AUTH=false

# Request timeout for Open Web UI (seconds)
# Tool-heavy queries can take 60-90+ seconds. Default is 300.
# Set to empty string ('') to disable timeout entirely.
AIOHTTP_CLIENT_TIMEOUT=

# Suggested prompts shown on the chat homepage
DEFAULT_PROMPT_SUGGESTIONS='[{"title": ["What are the top", "credit card offers right now?"], "content": "What are the top 5 credit card offers right now?"}, {"title": ["Which card should I use", "for dining?"], "content": "Which card in my wallet should I use for dining?"}, {"title": ["Where can I transfer", "Chase points?"], "content": "Where can I transfer Chase Ultimate Rewards points?"}, {"title": ["Which cards have", "lounge access?"], "content": "Which credit cards offer airport lounge access?"}, {"title": ["Best card for", "travel rewards?"], "content": "What is the best credit card for earning travel rewards?"}, {"title": ["Current transfer", "bonuses?"], "content": "Are there any current point transfer bonuses available?"}]'

# Set the default model (plain string - model ID)
DEFAULT_MODELS=askmiles/miles

# RAG Documentation Search Settings
# Enable RAG-based documentation search
RAG_ENABLED=false
RAG_CACHE_DIR=doc_index
RAG_DOC_SOURCES=https://example.com/docs
RAG_MAX_PAGES=500

# RAG Embedding Model (speed vs quality tradeoff)
# Options:
#   sentence-transformers/all-MiniLM-L6-v2 - Fast (22M params), good quality (default)
#   BAAI/bge-base-en-v1.5 - Medium (110M params), better quality
#   BAAI/bge-large-en-v1.5 - Slow (335M params), best quality
RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# RAG Periodic Updates (for long-running applications)
# Automatically checks sitemap for new/changed pages
RAG_PERIODIC_UPDATE_ENABLED=false
RAG_PERIODIC_UPDATE_INTERVAL_HOURS=6.0
